# ZOE API - –°—Ç–∞—Ç—É—Å –ü—Ä–æ–µ–∫—Ç—É

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: 2 –ª—é—Ç–æ–≥–æ 2026

## üìä –ó–∞–≥–∞–ª—å–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å: 95%

---

## ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (100%)

### 1. Backend API
**–°—Ç–∞—Ç—É—Å**: –ü–æ–≤–Ω—ñ—Å—Ç—é –≥–æ—Ç–æ–≤–∏–π —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∏–π

- [x] FastAPI —Å–µ—Ä–≤–µ—Ä –∑ 7 endpoints
- [x] HTML scraper –¥–ª—è zoe.com.ua
- [x] –°–∏—Å—Ç–µ–º–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è (TTL 30 —Ö–≤–∏–ª–∏–Ω)
- [x] –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- [x] CORS –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
- [x] Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- [x] Docker –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
- [x] –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω–æ

**–§–∞–π–ª–∏**:
- [main.py](main.py)
- [api/routes.py](api/routes.py)
- [services/scraper.py](services/scraper.py)
- [services/cache.py](services/cache.py)
- [models/schedule.py](models/schedule.py)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**:
- [README.md](README.md)
- [API_TESTING_RESULTS.md](API_TESTING_RESULTS.md)

### 2. iPhone –í—ñ–¥–∂–µ—Ç (Scriptable)
**–°—Ç–∞—Ç—É—Å**: –ü–æ–≤–Ω—ñ—Å—Ç—é —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

- [x] JavaScript –∫–æ–¥ –¥–ª—è Scriptable
- [x] UI –¥–ª—è 3 —Ä–æ–∑–º—ñ—Ä—ñ–≤ (Small, Medium, Large)
- [x] API —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- [x] –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å—É
- [x] –ü–æ–∫–∞–∑ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –ø–æ–¥—ñ—ó
- [x] –°–∏—Å—Ç–µ–º–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è
- [x] Fallback –ø—Ä–∏ –≤—Ç—Ä–∞—Ç—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è
- [x] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–≥–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- [x] –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

**–§–∞–π–ª–∏**:
- [ZoeWidget.js](ZoeWidget.js)
- [SCRIPTABLE_WIDGET_GUIDE.md](SCRIPTABLE_WIDGET_GUIDE.md)

---

## üü° –í –ü–†–û–¶–ï–°–Ü (0%)

### Deployment –Ω–∞ Production

**–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ**:
- [ ] –í–∏–±—Ä–∞—Ç–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É (Railway/Heroku/DigitalOcean)
- [ ] –ó–∞–¥–µ–ø–ª–æ—ó—Ç–∏ API
- [ ] –û—Ç—Ä–∏–º–∞—Ç–∏ production URL
- [ ] –û–Ω–æ–≤–∏—Ç–∏ `API_BASE_URL` —É –≤—ñ–¥–∂–µ—Ç—ñ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É iPhone

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è**: Railway (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —Ç–∞ —à–≤–∏–¥–∫–∏–π deployment)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç—É

```
zoe_api/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ routes.py              ‚úÖ API endpoints
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ schedule.py            ‚úÖ Pydantic –º–æ–¥–µ–ª—ñ
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ scraper.py             ‚úÖ –ü–∞—Ä—Å–µ—Ä ZOE —Å–∞–π—Ç—É
‚îÇ   ‚îî‚îÄ‚îÄ cache.py               ‚úÖ –ö–µ—à—É–≤–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ cache/                     ‚úÖ –î–∏—Ä–µ–∫—Ç–æ—Ä—ñ—è –∫–µ—à—É
‚îú‚îÄ‚îÄ ZoeWidget/                 ‚ö†Ô∏è –ó–∞—Å—Ç–∞—Ä—ñ–ª—ñ Swift —Ñ–∞–π–ª–∏ (–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è)
‚îú‚îÄ‚îÄ main.py                    ‚úÖ –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª FastAPI
‚îú‚îÄ‚îÄ ZoeWidget.js               ‚úÖ Scriptable –≤—ñ–¥–∂–µ—Ç
‚îú‚îÄ‚îÄ requirements.txt           ‚úÖ Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ Dockerfile                 ‚úÖ Docker image
‚îú‚îÄ‚îÄ docker-compose.yml         ‚úÖ Docker compose
‚îú‚îÄ‚îÄ README.md                  ‚úÖ –ì–æ–ª–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ API_TESTING_RESULTS.md     ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ SCRIPTABLE_WIDGET_GUIDE.md ‚úÖ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –≤—ñ–¥–∂–µ—Ç—É
‚îî‚îÄ‚îÄ PROJECT_STATUS.md          ‚úÖ –¶–µ–π —Ñ–∞–π–ª
```

---

## üéØ –ü–æ—Ç–æ—á–Ω–∏–π –°—Ç–∞–Ω

### Backend API
- **–í–µ—Ä—Å—ñ—è**: 1.0.0
- **–°—Ç–∞—Ç—É—Å**: Production Ready ‚úÖ
- **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –ü—Ä–æ–π–¥–µ–Ω–æ ‚úÖ
- **Deployment**: –ù–µ –∑–∞–¥–µ–ø–ª–æ—î–Ω–æ ‚è≥

### iPhone Widget
- **–í–µ—Ä—Å—ñ—è**: 1.0.0
- **–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤–∏–π ‚úÖ
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: Scriptable (iOS 14.0+)
- **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –ü–æ—Ç—Ä—ñ–±–Ω–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É iPhone ‚è≥

---

## üìã API Endpoints

| Endpoint | –ú–µ—Ç–æ–¥ | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å |
|----------|-------|--------|------|
| `/` | GET | ‚úÖ | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ API |
| `/health` | GET | ‚úÖ | Health check |
| `/api/schedules/latest` | GET | ‚úÖ | –û—Å—Ç–∞–Ω–Ω—ñ–π –≥—Ä–∞—Ñ—ñ–∫ |
| `/api/schedules/queue/{id}` | GET | ‚úÖ | –ì—Ä–∞—Ñ—ñ–∫ –¥–ª—è —á–µ—Ä–≥–∏ |
| `/api/queues` | GET | ‚úÖ | –°–ø–∏—Å–æ–∫ —á–µ—Ä–≥ |
| `/api/cache/info` | GET | ‚úÖ | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–µ—à |
| `/api/cache/clear` | DELETE | ‚úÖ | –û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à |

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

### Backend
- **Framework**: FastAPI 0.104.1
- **Parser**: BeautifulSoup4 4.12.2
- **HTTP**: httpx 0.25.2
- **Server**: Uvicorn 0.24.0
- **Container**: Docker

### Frontend (Widget)
- **Platform**: Scriptable (iOS)
- **Language**: JavaScript
- **API**: REST JSON

---

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –ö—Ä–æ–∫–∏

### 1. Deployment (–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: –í–ò–°–û–ö–ò–ô)

**Railway (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)**:
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç –Ω–∞ Railway.app
2. –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∏—Ç—å Python
4. –û—Ç—Ä–∏–º–∞—Ç–∏ production URL
5. –ß–∞—Å: ~5 —Ö–≤–∏–ª–∏–Ω

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏**:
- Heroku (–ø–æ—Ç—Ä–µ–±—É—î credit card)
- DigitalOcean App Platform
- Render.com

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –í—ñ–¥–∂–µ—Ç—É

1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Scriptable –Ω–∞ iPhone
2. –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ–¥ –∑ [ZoeWidget.js](ZoeWidget.js)
3. –ó–∞–º—ñ–Ω–∏—Ç–∏ `API_BASE_URL` –Ω–∞ production URL
4. –î–æ–¥–∞—Ç–∏ –≤—ñ–¥–∂–µ—Ç –Ω–∞ –¥–æ–º–∞—à–Ω—ñ–π –µ–∫—Ä–∞–Ω
5. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä —á–µ—Ä–≥–∏

### 3. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Production

- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—ñ endpoints –Ω–∞ production
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≤—ñ–¥–∂–µ—Ç –∑ production API
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä—ñ–∑–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏ –≤—ñ–¥–∂–µ—Ç—É
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ fallback –ø—Ä–∏ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è

### 4. –ú–∞–π–±—É—Ç–Ω—ñ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è (–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

- [ ] Push-–Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –ø–µ—Ä–µ–¥ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º
- [ ] Webhook –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
- [ ] –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∫—ñ–ª—å–∫–æ—Ö –º—ñ—Å—Ç/–æ–±–ª–∞—Å—Ç–µ–π
- [ ] Web —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
- [ ] Analytics —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å
- [ ] –¢–µ–º–Ω–∞/—Å–≤—ñ—Ç–ª–∞ —Ç–µ–º–∞ –≤—ñ–¥–∂–µ—Ç—É

---

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

### –í–∞–∂–ª–∏–≤–æ
‚ö†Ô∏è API –ø–∞—Ä—Å–∏—Ç—å HTML —Å–∞–π—Ç—É zoe.com.ua. –Ø–∫—â–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∞–π—Ç—É –∑–º—ñ–Ω–∏—Ç—å—Å—è, –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ –æ–Ω–æ–≤–∏—Ç–∏ –ø–∞—Ä—Å–µ—Ä —É [services/scraper.py](services/scraper.py)

### –û–±–º–µ–∂–µ–Ω–Ω—è
- iOS –≤—ñ–¥–∂–µ—Ç–∏ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –∫–æ–∂–Ω—ñ 15-30 —Ö–≤–∏–ª–∏–Ω (–∫–æ–Ω—Ç—Ä–æ–ª—å iOS)
- Localhost –Ω–µ –ø—Ä–∞—Ü—é—î –Ω–∞ –¥–æ–º–∞—à–Ω—å–æ–º—É –µ–∫—Ä–∞–Ω—ñ (—Ç—ñ–ª—å–∫–∏ –≤ Scriptable app)
- –ü–æ—Ç—Ä—ñ–±–Ω–µ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑'—î–¥–Ω–∞–Ω–Ω—è (—î fallback –Ω–∞ –∫–µ—à)

### –ü–µ—Ä–µ–≤–∞–≥–∏
- ‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è
- ‚úÖ –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–∞ ZOE
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- ‚úÖ Offline –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —á–µ—Ä–µ–∑ –∫–µ—à
- ‚úÖ –ü—Ä–æ—Å—Ç–∏–π —É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏ —Ç–∞ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [SCRIPTABLE_WIDGET_GUIDE.md](SCRIPTABLE_WIDGET_GUIDE.md)
2. –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è FAQ –≤ –∫—ñ–Ω—Ü—ñ –≥–∞–π–¥—É
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ Scriptable Console

---

## ‚úÖ –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å | –ü–æ—Ç—Ä–µ–±—É—î |
|-----------|-----------|----------|
| Backend API | ‚úÖ 100% | Deployment |
| Scriptable Widget | ‚úÖ 100% | Production URL |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è | ‚úÖ 100% | - |
| –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Backend | ‚úÖ 100% | - |
| –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è Widget | üü° 50% | –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ iPhone |

---

**–í–∏—Å–Ω–æ–≤–æ–∫**: –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤–∏–π –¥–æ deployment —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è! üéâ

–ó–∞–ª–∏—à–∏–ª–æ—Å—å –ª–∏—à–µ –∑–∞–¥–µ–ø–ª–æ—ó—Ç–∏ API –Ω–∞ production —Å–µ—Ä–≤–µ—Ä —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≤—ñ–¥–∂–µ—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É iPhone.
